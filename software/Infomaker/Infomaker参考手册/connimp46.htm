
<html><HEAD>
<LINK REL=STYLESHEET HREF="default.css" TYPE="text/css">
<TITLE>
Using the JDBC Driver Manager Trace</TITLE>
</HEAD>
<BODY>
<A NAME="BABCDCDJ"></A><h1>Using the JDBC Driver Manager Trace</h1>
<A NAME="TI1462"></A><p>This section describes how to use the JDBC Driver Manager
Trace tool.</p>
<A NAME="BABBHHIC"></A><h2>About JDBC Driver Manager Trace</h2>
<A NAME="TI1463"></A><p>You can use the JDBC Driver Manager Trace tool to trace a
connection to any database that you access in InfoMaker through
the JDBC interface.</p>
<A NAME="TI1464"></A><p>Unlike the Database Trace tool, the JDBC Driver Manager Trace
tool <i>cannot</i>
 trace connections through one of
the native database interfaces.</p>
<A NAME="TI1465"></A><h4>What this tool does</h4>
<A NAME="TI1466"></A><p>JDBC Driver Manager Trace logs errors and informational messages originating
from the Driver object currently loaded (such as Sybase's
jConnect JDBC driver) when InfoMaker connects to a database via
the JDBC interface. It writes this information to a default log
file named JDBC.LOG or to a log file that you specify. The amount
of trace output varies depending on the JDBC driver being used.</p>
<A NAME="TI1467"></A><h4>What both tools do</h4>
<A NAME="TI1468"></A><p>The information from JDBC Driver Manager Trace, like Database
Trace, can help you:<A NAME="TI1469"></A>
<ul>
<li class=fi>Understand what InfoMaker is
doing <i>internally</i>
 while connected to a database
via the JDBC interface</li>
<li class=ds>Identify and resolve problems with your JDBC connection</li>
<li class=ds>Provide useful information to Technical Support
if you call them for help with your database connection
</li>
</ul>
</p>
<A NAME="TI1470"></A><h4>When to use this tool</h4>
<A NAME="TI1471"></A><p>You should use JDBC Driver Manager Trace <i>instead</i>
 of
the Database Trace tool if you want more detailed information about
the JDBC driver. </p>
<p><img src="images/note.gif" width=17 height=17 border=0 align="bottom" alt="Note"> <span class=shaded>Performance considerations</span> <A NAME="TI1472"></A>Turning on JDBC Driver Manager Trace can slow your performance
while working in InfoMaker. Therefore, you should use JDBC Driver
Manager Trace for debugging purposes only and keep it turned off
when you are not debugging.</p>
<A NAME="TI1473"></A><h4>JDBC.LOG file</h4>
<A NAME="TI1474"></A><p>InfoMaker writes JDBC Driver Manager Trace output to a default
log file named JDBC.LOG or to a log file that you specify. The default
location of JDBC.LOG is a temp directory.</p>
<A NAME="TI1475"></A><h2>Starting JDBC Driver Manager Trace</h2>
<A NAME="TI1476"></A><p>By default, JDBC Driver Manager Trace is turned off in InfoMaker.
To start it in order to trace your JDBC connection, you must edit
your database profile.</p>
<A NAME="BABBECCB"></A><h3>Starting JDBC Driver ManagerTrace in the development environment</h3>
<A NAME="TI1477"></A><p>To start JDBC Driver Manager Trace in the InfoMaker development environment,
edit the database profile for the connection you want to trace,
as described in the following procedure.</p>
<p><img src="images/proc.gif" width=17 height=17 border=0 align="bottom" alt="Steps"> To start JDBC Driver Manager Trace by editing
the database profile:</p>
<ol><li class=fi>
Open the Database Profile Setup - JDBC
dialog box for the JDB connection you want to trace.<br><br></li>
<li class=ds>
On the Options tab, select the Trace JDBC Calls
checkbox.<br><br></li>
<li class=ds>
(Optional) To specify a log file where you want InfoMaker to
write the output of JDBC Driver Manager Trace, type the pathname
in the Trace File box.<br><br>
<i>or</i>
<br><br>
(Optional) Click Browse to display the pathname of an
existing log file in the Trace File box.<br><br>
By default, if the Trace JDBC Calls checkbox is selected and
no alternative trace file is specified, InfoMaker sends JDBC Driver
Manager Trace output to the default DBC.LOG file.<br><br><p><img src="images/note.gif" width=17 height=17 border=0 align="bottom" alt="Note"> <span class=shaded>Preview tab not in InfoMaker</span> <A NAME="TI1478"></A>The Preview tab is not available in the Database Profile Setup
dialog box in InfoMaker.</p>
<br><img src="images/jdbc.gif"><br>
</li>
<li class=ds>
Click OK or Apply.<br><br>
The Database Profiles dialog box displays with the name of
the edited profile highlighted.<br><br>
InfoMaker saves your settings in the database profile entry
in the InfoMaker registry file.<br><br>
For example, here is the relevant portion of a database profile
entry for a database named Employee. The settings that start JDBC
Driver Manager Trace (corresponding to the TraceFile DBParm parameter)
are shown in bold.<pre>[PROFILE Employee]</pre>
<pre>SQLCA.DBMS = "JDM - MS JavaVM"</pre>
<pre>...</pre>
<pre>SQLCA.DbParm = "Driver='com.sybase.jdbc.SybDriver',<br> URL='jdbc:sybase:Tds:199.93.178:151:5007/tsdata',<br> <i>TraceFile='c:\temp\jdbc.log</i> '"</pre>
<pre>...</pre>
<br><br></li>
<li class=ds>
Click Connect in the Database Profiles dialog
box to connect to the database.<br><br>
<i>or</i>
<br><br>
Right-click on the connected database and select Re-connect
from the dropdown menu in the Database Profiles dialog box.<br><br>
InfoMaker connects to the database, starts tracing the JDBC
connection, and writes output to the log file you specified.<br><br></li></ol>
<br><A NAME="TI1479"></A><h2>Stopping JDBC Driver Manager Trace</h2>
<A NAME="TI1480"></A><p>Once you start tracing a JDBC connection with JDBC Driver
Manager Trace, InfoMaker continues sending trace output to the
log file until you stop tracing.</p>
<A NAME="TI1481"></A><h3>Stopping JDBC Driver Manager Trace in the development
environment</h3>
<p><img src="images/proc.gif" width=17 height=17 border=0 align="bottom" alt="Steps"> To stop JDBC Driver Manager Trace by editing a
database profile:</p>
<ol><li class=fi>
Open the Database Profile Setup - JDBC
dialog box for the connection you are tracing.<br><br>
For instructions, see <A HREF="connimp46.htm#BABBECCB">"Starting JDBC Driver Manager
Trace in the development environment"</A>.<br><br></li>
<li class=ds>
On the Options tab, clear the Trace JDBC Calls
checkbox.<br><br>
If you supplied the pathname of a log file in the Trace File
box, you can leave it specified in case you want to restart tracing
later.<br><br></li>
<li class=ds>
Click OK in the Database Profile Setup - JDBC
dialog box.<br><br>
The Database Profiles dialog box displays, with the name of
the edited profile highlighted.<br><br></li>
<li class=ds>
Click Connect in the Database Profiles dialog
box.<br><br>
<i>or</i>
<br><br>
Right click on the connected database and select Re-connect
from the dropdown menu in the Database Profiles dialog box.<br><br>
InfoMaker connects to the database and stops tracing the
connection.<br><br></li></ol>
<br><A NAME="TI1482"></A><h2>Viewing the JDBC Driver Manager Trace log</h2>
<A NAME="TI1483"></A><p>You can display the contents of the JDBC Driver Manager Trace
log file anytime during an InfoMaker session.</p>
<p><img src="images/note.gif" width=17 height=17 border=0 align="bottom" alt="Note"> <span class=shaded>Location of JDBC.LOG</span> <A NAME="TI1484"></A>For information about where to find the default
JDBC.LOG file, see <A HREF="connimp46.htm#BABBHHIC">"About JDBC Driver Manager
Trace"</A>.</p>
<p><img src="images/proc.gif" width=17 height=17 border=0 align="bottom" alt="Steps"> To view the contents of the log file:</p>
<ol><li class=fi>
Open JDBC.LOG or the log file you specified
in one of the following ways:<br><br>
<A NAME="TI1485"></A>
<ul>
<li class=fi>Use the File Editor
in InfoMaker. (For instructions, see the <i>InfoMaker User's
Guide</i>
.)</li>
<li class=ds>Use any text editor outside InfoMaker.
</li>
</ul>
<br><br></li></ol>
<br><p><img src="images/note.gif" width=17 height=17 border=0 align="bottom" alt="Note"> <span class=shaded>Leaving the log file open</span> <A NAME="TI1486"></A>If you leave the log file open as you work in InfoMaker,
JDBC Driver Manager Trace <i>does not update the log</i>
.</p>
<A NAME="TI1487"></A>
